<!doctype html>
<html>
    <head>
        <title>Javascript Completo</title>
        <meta charset="utf-8">

        <link href="carousel.css" rel="stylesheet">

    </head>
    <body>

        <main class="content">

            <h1>Javascript Completo</h1>

            <section class="carousel">
              <div class="carousel__inner">
                <div class="carousel__item"> <a href=""><img src="images/01.jpg" alt=""></a></div>
                <div class="carousel__item"> <a href=""><img src="images/02.jpg" alt=""></a></div>
                <div class="carousel__item"> <a href=""><img src="images/03.jpg" alt=""></a></div>
                <div class="carousel__item"> <a href=""><img src="images/04.jpg" alt=""></a></div>
              </div>

              <button class="carousel__btn carousel__btn--prev"> &lt; </button>
              <button class="carousel__btn carousel__btn--next"> &gt; </button>

              <ul class="carousel__paginacao"></ul>
            </section>

        </main>

        <script>

        (function () {
          'use strict';

          //mostrar os botoes navegação e acrescentar listeners
          var $btnPrev = document.querySelector('.carousel__btn--prev');
          var $btnNext = document.querySelector('.carousel__btn--next');
          var $carousel = document.querySelector('.carousel');
          var $carouselInner = document.querySelector('.carousel__inner');
          var $carouselItens = document.querySelectorAll('.carousel__item');
          var bannerAtual = 0;
          var qdtBanners = $carouselItens.length;

          $btnPrev.style.display = 'block';
          $btnNext.style.display = 'block';

          //incluir overflow hidden no .carousel
          $carousel.style.overflowX = 'hidden';

          $btnPrev.addEventListener('click', showPrev);
          $btnNext.addEventListener('click', showNext);

          function showPrev() {
            bannerAtual--;
            mostrarBanner(bannerAtual);
          }

          function showNext() {
            bannerAtual++;
            mostrarBanner(bannerAtual);
          }

          function setupNav(bannerAtual) {
            $btnPrev.disabled = !bannerAtual > 0;
            $btnNext.disabled = bannerAtual === qdtBanners - 1;
          }

          function mostrarBanner(bannerAtual) {

            setupNav(bannerAtual);

            var largura = getComputedStyle($carouselItens[0]).width;
            largura = parseInt(largura);

            var novaPosicao = largura * bannerAtual * -1;

            $carouselInner.style.transform = 'translateX(' + novaPosicao + 'px)';

          }

        })();

        </script>

    </body>
</html>
